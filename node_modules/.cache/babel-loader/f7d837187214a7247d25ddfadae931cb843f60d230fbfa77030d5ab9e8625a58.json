{"ast":null,"code":"var _jsxFileName = \"/Users/joshfernando/Downloads/AgroChain-dev 2/src/pages/farmer/components/Transcarions.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport image from \"../../../images/seller.jpeg\";\nimport { TEST_API_KEY } from \"../../Constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar initalTranscation = [{\n  id: \"c25e9010-18f7-583c-bd9a-81b870be019e\",\n  blockchain: \"MATIC-MUMBAI\",\n  tokenId: \"e4f549f9-a910-59b1-b5cd-8f972871f5db\",\n  walletId: \"91fb5452-d51d-5563-b5f9-ba317b9a8d28\",\n  sourceAddress: \"0x6218ab52a6a9c4a0b3b4edb5c311ac7d31ec939a\",\n  destinationAddress: \"0x3c014375174066dede995f7d16987be6ea368948\",\n  transactionType: \"INBOUND\",\n  custodyType: \"DEVELOPER\",\n  state: \"COMPLETE\",\n  amounts: [\"0.0011\"],\n  nfts: null,\n  txHash: \"0x85299c580fb23b7982f6ae06a0acaef8258e0f0913dd9a982e736ef5e909b948\",\n  blockHash: \"0x9d522858919ad55bb55877e58290bbacbf2d702364702058cb5e7929227908c8\",\n  blockHeight: 42292767,\n  networkFee: \"0.000442382201415\",\n  firstConfirmDate: \"2023-11-12T02:50:16Z\",\n  operation: \"TRANSFER\",\n  abiParameters: null,\n  createDate: \"2023-11-12T02:50:16Z\",\n  updateDate: \"2023-11-12T02:50:57Z\"\n}];\nfunction TranscationHistory({\n  address\n}) {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [transactions, setTranscations] = useState(initalTranscation);\n  function onClickOfTranscation(transcationHash) {\n    const url = `https://mumbai.polygonscan.com/tx/${transcationHash}`;\n    console.log(url);\n    window.open(url, \"_blank\");\n  }\n  async function fetchTranscations() {\n    const options = {\n      method: \"GET\",\n      url: \"https://api.circle.com/v1/w3s/transactions\",\n      params: {\n        blockchain: \"MATIC-MUMBAI\",\n        destinationAddress: `${address}`,\n        pageSize: \"10\"\n      },\n      headers: {\n        accept: \"application/json\",\n        Authorization: `Bearer ${TEST_API_KEY}`\n      }\n    };\n    try {\n      const {\n        data\n      } = await axios.request(options);\n      console.log(\"response\", data.data.transactions);\n      setIsLoading(false);\n      setTranscations(data.data.transactions);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  useEffect(() => {\n    fetchTranscations();\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5 text-lg font-bold mb-2\",\n        children: \"Transactions List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), transactions.map(data => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          onClickOfTranscation(data.txHash);\n        },\n        className: \"flex flex-row bg-base-300 rounded-lg p-5 place-content-between content-between w-full mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"h-7 w-7 rounded-full  object-cover mr-2 border\",\n            src: image,\n            alt: \"Random Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" w-44 overflow-ellipsis overflow-hidden \",\n            children: data.txHash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-baseline\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" font-extrabold text-lg\",\n            children: [data.amounts, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs pl-1 text-gray-500\",\n            children: \"MATIC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(TranscationHistory, \"xRc4tojKxPauZ9IFNUsLdCL5TxQ=\");\n_c = TranscationHistory;\nexport default TranscationHistory;\nvar _c;\n$RefreshReg$(_c, \"TranscationHistory\");","map":{"version":3,"names":["axios","useEffect","useState","image","TEST_API_KEY","jsxDEV","_jsxDEV","initalTranscation","id","blockchain","tokenId","walletId","sourceAddress","destinationAddress","transactionType","custodyType","state","amounts","nfts","txHash","blockHash","blockHeight","networkFee","firstConfirmDate","operation","abiParameters","createDate","updateDate","TranscationHistory","address","_s","isLoading","setIsLoading","transactions","setTranscations","onClickOfTranscation","transcationHash","url","console","log","window","open","fetchTranscations","options","method","params","pageSize","headers","accept","Authorization","data","request","error","fileName","_jsxFileName","lineNumber","columnNumber","className","children","map","onClick","src","alt","_c","$RefreshReg$"],"sources":["/Users/joshfernando/Downloads/AgroChain-dev 2/src/pages/farmer/components/Transcarions.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport image from \"../../../images/seller.jpeg\";\nimport { TEST_API_KEY } from \"../../Constants\";\n\nvar initalTranscation = [\n  {\n    id: \"c25e9010-18f7-583c-bd9a-81b870be019e\",\n    blockchain: \"MATIC-MUMBAI\",\n    tokenId: \"e4f549f9-a910-59b1-b5cd-8f972871f5db\",\n    walletId: \"91fb5452-d51d-5563-b5f9-ba317b9a8d28\",\n    sourceAddress: \"0x6218ab52a6a9c4a0b3b4edb5c311ac7d31ec939a\",\n    destinationAddress: \"0x3c014375174066dede995f7d16987be6ea368948\",\n    transactionType: \"INBOUND\",\n    custodyType: \"DEVELOPER\",\n    state: \"COMPLETE\",\n    amounts: [\"0.0011\"],\n    nfts: null,\n    txHash:\n      \"0x85299c580fb23b7982f6ae06a0acaef8258e0f0913dd9a982e736ef5e909b948\",\n    blockHash:\n      \"0x9d522858919ad55bb55877e58290bbacbf2d702364702058cb5e7929227908c8\",\n    blockHeight: 42292767,\n    networkFee: \"0.000442382201415\",\n    firstConfirmDate: \"2023-11-12T02:50:16Z\",\n    operation: \"TRANSFER\",\n    abiParameters: null,\n    createDate: \"2023-11-12T02:50:16Z\",\n    updateDate: \"2023-11-12T02:50:57Z\",\n  },\n];\n\nfunction TranscationHistory({ address }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [transactions, setTranscations] = useState(initalTranscation);\n\n  function onClickOfTranscation(transcationHash) {\n    const url = `https://mumbai.polygonscan.com/tx/${transcationHash}`;\n    console.log(url);\n    window.open(url, \"_blank\");\n  }\n\n  async function fetchTranscations() {\n    const options = {\n      method: \"GET\",\n      url: \"https://api.circle.com/v1/w3s/transactions\",\n      params: {\n        blockchain: \"MATIC-MUMBAI\",\n        destinationAddress: `${address}`,\n        pageSize: \"10\",\n      },\n      headers: {\n        accept: \"application/json\",\n        Authorization: `Bearer ${TEST_API_KEY}`,\n      },\n    };\n\n    try {\n      const { data } = await axios.request(options);\n      console.log(\"response\", data.data.transactions);\n      setIsLoading(false);\n      setTranscations(data.data.transactions);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  useEffect(() => {\n    fetchTranscations();\n  }, []);\n\n  if (isLoading) {\n    return <div></div>;\n  } else {\n    return (\n      <div className=\"flex flex-col\">\n        <div className=\"mt-5 text-lg font-bold mb-2\">Transactions List</div>\n        {transactions.map((data) => (\n          <div\n            onClick={() => {\n              onClickOfTranscation(data.txHash);\n            }}\n            className=\"flex flex-row bg-base-300 rounded-lg p-5 place-content-between content-between w-full mt-2\"\n          >\n            <div className=\"flex flex-row items-center\">\n              <img\n                className=\"h-7 w-7 rounded-full  object-cover mr-2 border\"\n                src={image}\n                alt=\"Random Image\"\n              ></img>\n              <div className=\" w-44 overflow-ellipsis overflow-hidden \">\n                {data.txHash}\n              </div>\n            </div>\n            <div className=\"flex items-baseline\">\n              <div className=\" font-extrabold text-lg\">{data.amounts} </div>\n              <div className=\"text-xs pl-1 text-gray-500\">MATIC</div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default TranscationHistory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}